var KorisnikAdmin="0",KorisnikAdmin1="0",KorisnikAdmin2="0",UpozoenjePR,UpozoenjeKR="",BrisanjeKorisnik="0",BrisanjeProjekat="0",BrisanjeSVE="0",flegBr1=0,flegBr2=0,flegDD1=0,flegDD2=0,Sviprojekti="0",deatkivacijaKorisnik="",atkivacijaKorisnik="",godinaInf11Admin=0,funkicjeAdmin={gotoFunction:function(i){switch(i){case"Strana1":this.LoginStrana();break;case"ListaPR1":this.ListProjekata();break;case"NedeljeMeseci1":this.Meseci_Nedelje()}},PromeniSifru:function(){window.location.href="#/Sifra",$("#id6").hide(),$("#id5").hide(),$("#id4").hide(),$("#id3").hide(),$("#id7").show()},NazadSifra:function(){window.location.href="#/login",$("#id3").hide(),$("#id4").show(),$("#id5").hide(),$("#id6").hide(),$("#id7").hide()},StranicaAdmin:function(){window.location.href="#/Admin",$("#id6").show(),$("#id5").hide(),$("#id4").hide(),$("#id3").hide(),$("#id7").hide(),$.ajax({url:""+web+"/Korisnici-Nadimci",type:"get",headers:{Authorization:"Bearer "+token},success:function(i){for(var e=i,n=new Array,a=new Array,t=0;t<e.length;t++)n[t]=e[t].Nadimak_Klijent,a[t]=e[t].Ime_Prezime;for(var o="",r="",d=0;d<n.length;d++)o+='<option value="'+n[d]+'" />',r+='<option value="'+a[d]+'" />';document.getElementById("admin1").innerHTML=r,document.getElementById("admin4").innerHTML=r,document.getElementById("brisanje1").innerHTML=r,document.getElementById("brisanje12").innerHTML=r,funkicjeAdmin.Svi_projekti(),funkicjeAdmin.SamoAktivni(),funkicjeAdmin.SamoNeAktivni(),funkicjeAdmin.TabelaKorisniciAdmin(),funkicjeAdmin.TabelaProjekat_korisnici()},error:function(i){alert("Greska u serveru")}})},KorisniciLista:function(){$.ajax({url:""+web+"/Korisnici-Nadimci",type:"get",headers:{Authorization:"Bearer "+token},success:function(i){for(var e=i,n=new Array,a=new Array,t=0;t<e.length;t++)n[t]=e[t].Nadimak_Klijent,a[t]=e[t].Ime_Prezime;for(var o="",r="",d=0;d<n.length;d++)o+='<option value="'+n[d]+'" />',r+='<option value="'+a[d]+'" />';document.getElementById("admin1").innerHTML=r,document.getElementById("admin4").innerHTML=r,document.getElementById("brisanje1").innerHTML=r,document.getElementById("brisanje12").innerHTML=r},error:function(i){alert("Cile")}})},TabelaKorisniciAdmin:function(){$("tr#trTabela").remove(),$.ajax({url:""+web+"/Spojeno-u-nadimak?ime="+KorisnikAdmin+"&godina="+godinaInf11,type:"get",headers:{Authorization:"Bearer "+token},success:function(i){for(var e=document.getElementById("adminTable"),n=i,a=0;a<n.length;++a){var t=n[a],o=document.createElement("tr");o.id="trTabela";for(var r=["Ime_Projekta","Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar","Sum"],d=0;d<r.length;++d){var l=document.createElement("td");l.id="tdTabela",l.innerHTML=t[r[d]],o.appendChild(l)}e.appendChild(o)}},error:function(i){alert("Cile")}})},NeRadiNatimProjektimaAdmin:function(){$.ajax({url:""+web+"/Korisnici-Projekti-Na-kojima-nerade?ime="+KorisnikAdmin1,type:"get",headers:{Authorization:"Bearer "+token},success:function(i){for(var e=i,n=new Array,a=0;a<e.length;a++)n[a]=e[a].Projekti;for(var t="",o=0;o<n.length;o++)t+='<option value="'+n[o]+'" />';document.getElementById("admin3").innerHTML=t},error:function(i){alert("Cile")}})},DodajProjekat_dialog:function(){funkicjeAdmin.DodajProjekat()},DodajProjekat:function(){"0"==KorisnikAdmin1?($("#dialog-11").dialog({autoOpen:!1,buttons:{OK:function(){$(this).dialog("close")}},title:"TO-NET",hide:"puff",show:"slide",height:200}),$("#dialog-11").dialog("open")):"0"==KorisnikAdmin2?($("#dialog-11").dialog({autoOpen:!1,buttons:{OK:function(){$(this).dialog("close")}},title:"TO-NET",hide:"puff",show:"slide",height:200}),$("#dialog-11").dialog("open")):($("#NeRadi").val(""),$.ajax({type:"POST",url:""+web+"/Upis-Projekta-koji-nepostoji",headers:{Authorization:"Bearer "+token},data:{Nadimak:KorisnikAdmin1,Projekat:KorisnikAdmin2,godina:godinaInf},success:function(i){funkicjeAdmin.NeRadiNatimProjektimaAdmin(),funkicjeAdmin.TabelaKorisniciAdmin(),funkicjeAdmin.SElect_BrisanjeProjektiNaKojimKorisnikRadi(),funkicjeAdmin.TabelaProjekat_korisnici(),KorisnikAdmin2="0",document.getElementById("DodajProjekatID").disabled=!0,$("#dialog-7").dialog({autoOpen:!1,buttons:{OK:function(){$(this).dialog("close")}},title:"TO-NET",hide:"puff",show:"slide",height:200}),$("#dialog-7").dialog("open")},error:function(i){alert("Nije dobrooo")}}))},DodajProjekatNovi_dialog:function(){funkicjeAdmin.DodajProjekatNovi()},DodajProjekatNovi:function(){var i=$("#ProjekatNovi").val(),e=$("#ProjekatNovi").val();""==e?($("#dialog-11").dialog({autoOpen:!1,buttons:{OK:function(){$(this).dialog("close")}},title:"TO-NET",hide:"puff",show:"slide",height:200}),$("#dialog-11").dialog("open")):$.ajax({type:"POST",url:""+web+"/Dodavanje-Novog-Projekta",headers:{Authorization:"Bearer "+token},data:{Projekat:i},success:function(i){$("#KorsnikNEP").val(""),funkicjeAdmin.NeRadiNatimProjektimaAdmin(),funkicjeAdmin.TabelaKorisniciAdmin()},error:function(i){alert("Nije dobrooo")}})},UklanjanjeKorisnikaSaDatogProjekta_dialog:function(){funkicjeAdmin.ButtonDIsabledDialog(),$("#dialog-pitanje").dialog({autoOpen:!1,buttons:{Da:function(){funkicjeAdmin.UklanjanjeKorisnikaSaDatogProjekta(),funkicjeAdmin.ButtonDialogEnable(),$(this).dialog("close")},Ne:function(){$("#BrisanjeKorisnik").val(""),$("#Radi").val(""),funkicjeAdmin.ButtonDialogEnable(),$(this).dialog("close")}},title:"TO-NET",hide:"puff",show:"slide",height:200}),$("#dialog-pitanje").dialog("open")},UklanjanjeKorisnikaSaDatogProjekta:function(){var i=BrisanjeKorisnik,e=BrisanjeProjekat;$("#Radi").val(""),$.ajax({type:"DELETE",url:""+web+"/Uklanjanje-korisnika-sa-odredjenog-projekta?NadimakBrisanje="+i+"&ProjekatBRisanje="+e,headers:{Authorization:"Bearer "+token},success:function(i){funkicjeAdmin.NeRadiNatimProjektimaAdmin(),funkicjeAdmin.TabelaKorisniciAdmin(),funkicjeAdmin.SElect_BrisanjeProjektiNaKojimKorisnikRadi(),funkicjeAdmin.TabelaProjekat_korisnici(),$("#NeRadi").val(""),$("#dialog-7").dialog({autoOpen:!1,buttons:{OK:function(){$(this).dialog("close")}},title:"TO-NET",hide:"puff",show:"slide",height:200}),$("#dialog-7").dialog("open"),document.getElementById("BRISII").disabled=!0},error:function(i){alert("Nije dobrooo")}})},SElect_BrisanjeProjektiNaKojimKorisnikRadi:function(){var i=BrisanjeKorisnik;$.ajax({url:""+web+"/Lista-projekata-na-kojim-korisnik-radi?ime="+i,type:"get",headers:{Authorization:"Bearer "+token},success:function(i){for(var e=i,n=new Array,a=0;a<e.length;a++)n[a]=e[a].Projekti;for(var t="",o=0;o<n.length;o++)t+='<option value="'+n[o]+'" />';document.getElementById("brisanje2").innerHTML=t},error:function(i){alert("Cile")}})},BrisanjeKorisnika_dialog:function(){funkicjeAdmin.ButtonDIsabledDialog(),$("#dialog-pitanje").dialog({autoOpen:!1,buttons:{Da:function(){funkicjeAdmin.BrisanjeKorisnika(),funkicjeAdmin.ButtonDialogEnable(),$(this).dialog("close")},Ne:function(){$("#BrisanjeKorisnik1").val(""),funkicjeAdmin.ButtonDialogEnable(),$(this).dialog("close")}},title:"TO-NET",hide:"puff",show:"slide",height:200}),$("#dialog-pitanje").dialog("open")},BrisanjeKorisnika:function(){var i=BrisanjeSVE;"0"==i?($("#dialog-11").dialog({autoOpen:!1,buttons:{OK:function(){$(this).dialog("close")}},title:"TO-NET",hide:"puff",show:"slide",height:200}),$("#dialog-11").dialog("open"),document.getElementById("BRISIKORisnika").disabled=!0):"22"==i||$.ajax({type:"DELETE",url:""+web+"/Uklanjanje-korisnika/sve-projekte?NadimakBrisanje="+i,headers:{Authorization:"Bearer "+token},success:function(i){funkicjeAdmin.KorisniciLista(),funkicjeAdmin.TabelaProjekat_korisnici(),$("#BrisanjeKorisnik1").val(""),$("#KorsnikNEP").val(""),$("#BrisanjeKorisnik").val(""),BrisanjeSVE==KorisnikAdmin&&($("#ListaKorisnika").val(""),$("#KorisnikId").val(""),KorisnikAdmin="0",funkicjeAdmin.TabelaKorisniciAdmin()),$("#dialog-7").dialog({autoOpen:!1,buttons:{OK:function(){$(this).dialog("close")}},title:"TO-NET",hide:"puff",show:"slide",height:200}),$("#dialog-7").dialog("open"),document.getElementById("BRISIKORisnika").disabled=!0},error:function(i){alert("Cile")}})},ButtonDIsabled:function(){document.getElementById("BRISIKORisnika").disabled=!0,document.getElementById("BRISII").disabled=!0,document.getElementById("DodajProjekatID").disabled=!0,document.getElementById("DeaktivacijaKlik").disabled=!0,document.getElementById("AktivacijaKlik").disabled=!0},ButtonDIsabledDialog:function(){document.getElementById("dasds").disabled=!0},ButtonDialogEnable:function(){document.getElementById("dasds").disabled=!1},VratiSE:function(){window.location.href="#/login",$("#id4").show(),$("#id5").hide(),$("#id6").hide(),$("#id3").hide(),funkicjeCile.RefresMeseci(),funkicjeMicko.Trenutna_nedelja()},PopunjavanjeProjekata:function(){var i=spojeno_ime_prezime;alert("usaooo"),$.ajax({url:""+web+"/Lista-projekata-na-kojim-korisnik-radi?ime="+i,type:"get",headers:{Authorization:"Bearer "+token},success:function(i){for(var e=i,n=new Array,a=0;a<e.length;a++)n[a]=e[a].Projekti;for(var t="",o=0;o<n.length;o++)t+='<option value="'+n[o]+'" />'},error:function(i){alert("Cile")}})},TabelaProjekat_korisnici:function(){$("tr#trTabelaProjekti").remove(),$.ajax({url:""+web+"/Za-dati-projekat-korisnici-koji-rade-na-njemu?projekat="+Sviprojekti+"&godina="+godinaInf12,type:"get",headers:{Authorization:"Bearer "+token},success:function(i){for(var e=document.getElementById("adminTableKor"),n=i,a=0;a<n.length;++a){var t=n[a],o=document.createElement("tr");o.id="trTabelaProjekti";for(var r=["Ime_Prezime","Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar","Sum"],d=0;d<r.length;++d){var l=document.createElement("td");l.id="tdTabelaProjekti",l.innerHTML=t[r[d]],o.appendChild(l)}e.appendChild(o)}},error:function(i){alert("Cile")}})},Svi_projekti:function(){$.ajax({url:""+web+"/Svi-projekti",type:"get",headers:{Authorization:"Bearer "+token},success:function(i){for(var e=i,n=(e[0],new Array),a=0;a<e.length;a++)n[a]=e[a].Projekti;for(var t="",o=0;o<n.length;o++)t+='<option value="'+n[o]+'" />';document.getElementById("adminKor").innerHTML=t},error:function(i){alert("Cile")}})},TONET:function(){window.location="http://www.to-net.rs/"},SamoAktivni:function(){$.ajax({url:""+web+"/Korisnici-Nadimci-aktivni",type:"get",headers:{Authorization:"Bearer "+token},success:function(i){for(var e=i,n=new Array,a=new Array,t=0;t<e.length;t++)n[t]=e[t].Nadimak_Klijent,a[t]=e[t].Ime_Prezime;for(var o="",r="",d=0;d<n.length;d++)o+='<option value="'+n[d]+'" />',r+='<option value="'+a[d]+'" />';document.getElementById("deaktivacija").innerHTML=r},error:function(i){alert("Greska u serveru")}})},SamoNeAktivni:function(){$.ajax({url:""+web+"/Korisnici-Nadimci-neaktivni",type:"get",headers:{Authorization:"Bearer "+token},success:function(i){for(var e=i,n=new Array,a=new Array,t=0;t<e.length;t++)n[t]=e[t].Nadimak_Klijent,a[t]=e[t].Ime_Prezime;for(var o="",r="",d=0;d<n.length;d++)o+='<option value="'+n[d]+'" />',r+='<option value="'+a[d]+'" />';document.getElementById("atkivacija").innerHTML=r},error:function(i){alert("Greska u serveru")}})},DeAktivacija_dialog:function(){$("#dialog-pitanje").dialog({autoOpen:!1,buttons:{Da:function(){funkicjeAdmin.DeAktivacija(),$(this).dialog("close")},Ne:function(){funkicjeAdmin.ButtonDialogEnable(),$(this).dialog("close")}},title:"TO-NET",hide:"puff",show:"slide",height:200}),$("#dialog-pitanje").dialog("open")},DeAktivacija:function(){var i=deatkivacijaKorisnik;$.ajax({url:""+web+"/deaktivacija-korisnik?Ime_Prezime="+i,type:"put",headers:{Authorization:"Bearer "+token},success:function(i){$("#deatkivacijaKorisnik1").val("");funkicjeAdmin.SamoAktivni(),funkicjeAdmin.SamoNeAktivni()},error:function(i){alert("Greska u serveru")}})},Aktivacija_dialog:function(){$("#dialog-pitanje").dialog({autoOpen:!1,buttons:{Da:function(){funkicjeAdmin.Aktivacija(),$(this).dialog("close")},Ne:function(){funkicjeAdmin.ButtonDialogEnable(),$(this).dialog("close")}},title:"TO-NET",hide:"puff",show:"slide",height:200}),$("#dialog-pitanje").dialog("open")},Aktivacija:function(){var i=atkivacijaKorisnik;alert(i),$.ajax({url:""+web+"/aktivacija-korisnik?Ime_Prezime="+i,type:"put",headers:{Authorization:"Bearer "+token},success:function(i){$("#AktivacijaKorisnik1").val("");funkicjeAdmin.SamoAktivni(),funkicjeAdmin.SamoNeAktivni()},error:function(i){alert("Greska u serveru")}})}};funkicjeAdmin.ButtonDIsabled(),$("#ListaKorisnika").on("input",function(i){for(var e=!1,n=this.list,a=0;a<n.options.length;a++)if(this.value==n.options[a].value){e=!0;break}if(e){this.setCustomValidity("");$(this).val();KorisnikAdmin=$(this).val(),$("tr#trTabela").remove(),funkicjeAdmin.TabelaKorisniciAdmin()}else $("tr#trTabela").remove()}),$("#KorsnikNEP").on("input",function(i){for(var e=!1,n=this.list,a=0;a<n.options.length;a++)if(this.value==n.options[a].value){e=!0;break}if(e){this.setCustomValidity("");$(this).val();KorisnikAdmin1=$(this).val(),flegDD1=1,funkicjeAdmin.NeRadiNatimProjektimaAdmin(),1==flegDD1&&1==flegDD2&&(document.getElementById("DodajProjekatID").disabled=!1)}else flegDD1=0,$("#KorisnikD").val("Ne Korisnik"),KorisnikAdmin1="0",document.getElementById("DodajProjekatID").disabled=!0}),$("#NeRadi").on("input",function(i){for(var e=!1,n=this.list,a=0;a<n.options.length;a++)if(this.value==n.options[a].value){e=!0;break}if(e){$(this).val();KorisnikAdmin2=$(this).val(),flegDD2=1,1==flegDD2&&1==flegDD1&&(document.getElementById("DodajProjekatID").disabled=!1)}else flegDD2=0,KorisnikAdmin2="0",document.getElementById("DodajProjekatID").disabled=!0}),$("#BrisanjeKorisnik").on("input",function(i){for(var e=!1,n=this.list,a=0;a<n.options.length;a++)if(this.value==n.options[a].value){e=!0;break}if(e){$(this).val();BrisanjeKorisnik=$(this).val(),flegBr2=1,funkicjeAdmin.SElect_BrisanjeProjektiNaKojimKorisnikRadi(),1==flegBr2&&1==flegBr1&&(document.getElementById("BRISII").disabled=!1)}else flegBr2=0,document.getElementById("BRISII").disabled=!0}),$("#Radi").on("input",function(i){for(var e=!1,n=this.list,a=0;a<n.options.length;a++)if(this.value==n.options[a].value){e=!0;break}if(e){$(this).val();BrisanjeProjekat=$(this).val(),flegBr1=1,1==flegBr1&&1==flegBr2&&(document.getElementById("BRISII").disabled=!1)}else flegBr1=0,KorisnikAdmin2="0",document.getElementById("BRISII").disabled=!0}),$("#BrisanjeKorisnik1").on("input",function(i){for(var e=!1,n=this.list,a=0;a<n.options.length;a++)if(this.value==n.options[a].value){e=!0;break}if(e){$(this).val();BrisanjeSVE=$(this).val(),document.getElementById("BRISIKORisnika").disabled=!1}else document.getElementById("BRISIKORisnika").disabled=!0}),$("#ListaProjekataAd").on("input",function(i){for(var e=!1,n=this.list,a=0;a<n.options.length;a++)if(this.value==n.options[a].value){e=!0;break}if(e){this.setCustomValidity("");var t=$(this).val();Sviprojekti=t,funkicjeAdmin.TabelaProjekat_korisnici()}else $("tr#trTabelaProjekti").remove()}),$(function(){$("#dialog-7").dialog({autoOpen:!1})}),$(function(){$("#dialog-11").dialog({autoOpen:!1})}),$(function(){$("#dialog-pitanje").dialog({autoOpen:!1})}),$("#OdabranaGodina1").on("input",function(i){var e=$(this).val();godinaInf11=e,godinaInf11Admin=e,funkicjeAdmin.TabelaKorisniciAdmin()}),$("#OdabranaGodina2").on("input",function(i){var e=$(this).val();godinaInf12=e,funkicjeAdmin.TabelaProjekat_korisnici()}),$("#deatkivacijaKorisnik1").on("input",function(i){for(var e=!1,n=this.list,a=0;a<n.options.length;a++)if(this.value==n.options[a].value){e=!0;break}if(e){this.setCustomValidity("");var t=$(this).val();deatkivacijaKorisnik=t,document.getElementById("DeaktivacijaKlik").disabled=!1}else document.getElementById("DeaktivacijaKlik").disabled=!0}),$("#AktivacijaKorisnik1").on("input",function(i){for(var e=!1,n=this.list,a=0;a<n.options.length;a++)if(this.value==n.options[a].value){e=!0;break}if(e){this.setCustomValidity("");var t=$(this).val();atkivacijaKorisnik=t,document.getElementById("AktivacijaKlik").disabled=!1}else document.getElementById("AktivacijaKlik").disabled=!0});